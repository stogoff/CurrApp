#:import MDLabel kivymd.uix.label.MDLabel
#:import MDTextField kivymd.uix.textfield.MDTextField
#:import MDRaisedButton kivymd.uix.button.MDRaisedButton
#:import MDDropdownMenu kivymd.uix.menu.MDDropdownMenu
#:import MDFillRoundFlatButton kivymd.uix.button.MDFillRoundFlatButton
<ItemLabel@MDLabel>
    font_size: '25sp'
    halign: 'left'
    valign: 'middle'
    text_size: self.size

<MYRaisedButton>
    md_bg_color: root.theme_cls.primary_color
    theme_text_color: 'Custom'
    text_color: root.specific_text_color
    elevation_normal: 10
    size_hint: 1, 1

<MYRaisedIconButton>
    MDIcon:
        id: lbl_ic
        icon: root.icon
        theme_text_color: 'Custom'
        text_color: [1,1,1,1]
        size_hint_x: None
        width: self.texture_size[0]

<RateLabel@MDLabel>
    halign: 'center'
    valign: 'middle'
    text_size: self.size

<NumButton@MYRaisedButton>
    font_size: '20sp'

<CurSpinner@Spinner>
    font_size: '20sp'
    size_hint: [.31,1]
    values:'USD','EUR','GBP','RUB','CHF','CAD','JPY','BTC'
    background_normal: ''
    background_color: app.theme_cls.primary_color

<Main>
    rows: 6
    amount1:amount1
    amount2:amount2
    curr1:curr1
    curr2:curr2
    timelabel:timelabel
    rate1:rate1
    rate2:rate2
    toolbar:toolbar
    MDToolbar:
        id: toolbar
        title: app.title
        md_bg_color: app.theme_cls.primary_color
        background_palette: "Primary"
        elevation: 10
        left_action_items: [["dots-vertical", lambda x: None]]
    AnchorLayout:
        size_hint: [.9,.05]
        MDLabel:
            id:timelabel
            text: '111'
            halign: 'center'
    BoxLayout:
        size_hint: [.9,.2]
        padding: [30,30,30,0]
        spacing:20
        ItemLabel:
            id:amount1
            text:'0'
            halign: 'right'
        CurSpinner:
            id:curr1
            text:'USD'
            on_text:
                root.calculate()
    BoxLayout:
        size_hint: [.9,.1]
        padding: [30,0,30,0]
        spacing: 1
        ItemLabel:
            text:'='
            halign: 'right'
        MDIconButton:
            size_hint: [.31,1]
            icon: 'arrow-up-down-bold-outline'
            halign: 'center'
            on_release:
                root.swap_currencies()
    BoxLayout:
        size_hint: [.9,.2]
        padding: [30,0,30,30]
        spacing:20
        ItemLabel:
            id:amount2
            text:'0'
            halign: 'right'
        CurSpinner:
            id:curr2
            text:'RUB'
            on_text:
                root.calculate()
    GridLayout:
        padding: 30
        cols: 4
        rows: 5
        spacing:20
        RateLabel:
            id:rate1
        RateLabel:
            id:rate2
        NumButton:
            text: 'C'
            on_release:
                root.input('C')
        MYRaisedIconButton:
            icon: 'backspace'
            on_release:
                root.input('B')

        NumButton:
            text: '7'
            on_release:
                root.input(7)
        NumButton:
            text: '8'
            on_release:
                root.input(8)
        NumButton:
            text: '9'
            on_release:
                root.input(9)
        NumButton:
            text: '*'
            on_release:
                root.input('*')

        NumButton:
            text: '4'
            on_release:
                root.input(4)
        NumButton:
            text: '5'
            on_release:
                root.input(5)
        NumButton:
            text: '6'
            on_release:
                root.input(6)
        NumButton:
            text: '/'
            on_release:
                root.input('/')

        NumButton:
            text: '1'
            on_release:
                root.input(1)
        NumButton:
            text: '2'
            on_release:
                root.input(2)
        NumButton:
            text: '3'
            on_release:
                root.input(3)
        NumButton:
            text: '+'
            on_release:
                root.input('+')

        NumButton:
            text: '0'
            on_release:
                root.input(0)
        NumButton:
            text: '.'
            on_release:
                root.input('.')
        NumButton:
            text: '='
            on_release:
                root.input('=')
        NumButton:
            text: '-'
            on_release:
                root.input('-')
